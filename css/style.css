
:root {
    --bg-desktop: #2a2a2a;
    --win-bg: #e0e0e0;
    --win-header-start: #000000;
    --win-header-end: #2e2e2e;
    --win-border: #1a1a1a;
    --taskbar-bg: #3f3f3f;
    --taskbar-btn: #525252;
    --text-primary: #2b2b2b;
    --text-light: #f2f2f2;
    --shadow-hard: 8px 8px 0px rgba(0, 0, 0, 0.4);
}

* {
    margin: 0; padding: 0; box-sizing: border-box;
    font-family: 'Courier New', Courier, monospace;
}

body {
    cursor: url('../assets/curseur copie.png'), auto;
    overflow: hidden; height: 100vh; width: 100vw;
    background-color: var(--bg-desktop);
}

button, a, .desktop__shortcut, .file-grid__item, .window__close, .start-menu__item, .taskbar__start-btn, .clickable-image {
    cursor: url('../assets/curseur copie.png'), pointer;
}

*:active {
    cursor: url('../assets/curseur point.png'), auto !important;
}

.desktop {
    width: 100%; height: 100%; position: relative;
    background-image: url('../assets/fond.jpeg'); 
    background-size: cover; background-position: center;
}

.desktop.click-bg-active {
    background-image: url('../assets/fond.png') !important;
}

.desktop__layer {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 1; pointer-events: none;
}


body.easter-egg-active, body.easter-egg-active * {
    cursor: url('../assets/fuck.png'), auto !important;
}

/* ============================================================
   ICÔNES
   ============================================================ */
.desktop__shortcut {
    position: absolute; z-index: 5; width: 100px;
    display: flex; flex-direction: column; align-items: center;
    text-align: center; padding: 10px; color: var(--text-light);
}

.desktop__shortcut:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px dashed rgba(255, 255, 255, 0.5); border-radius: 4px;
}

.desktop__icon { width: 64px; height: 64px; object-fit: contain; margin-bottom: 5px; pointer-events: none; }
.desktop__label { font-size: 14px; text-shadow: 2px 2px 0px #000000; line-height: 1.2; }

/* ============================================================
   FENÊTRES
   ============================================================ */
.window {
    width: 500px; height: 400px;
    background-color: var(--win-bg);
    border: 3px solid var(--win-border);
    box-shadow: var(--shadow-hard);
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    display: none; flex-direction: column; z-index: 10;
}

.window.active { display: flex; }

.window__header {
    background: linear-gradient(90deg, var(--win-header-start), var(--win-header-end));
    padding: 8px 10px; display: flex; justify-content: space-between;
    align-items: center; color: var(--text-light); font-weight: bold;
    user-select: none; cursor: move; border-bottom: 3px solid var(--win-border);
}

.window__close {
    background: var(--win-bg); border: 2px solid var(--win-border);
    width: 24px; height: 24px; display: flex; align-items: center;
    justify-content: center; font-size: 14px; color: var(--text-primary);
}
.window__close:hover { background: #ff4d4d; color: white; }

.window__body {
    flex: 1; padding: 20px; overflow-y: auto;
    background-color: var(--win-bg); color: var(--text-primary);
}

/* ============================================================
   CONTENU (FILE GRID)
   ============================================================ */
.file-grid { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 15px; }
.file-grid__item {
    width: 90px; display: flex; flex-direction: column; align-items: center;
    text-align: center; padding: 10px; color: var(--text-primary);
}
.file-grid__item:hover { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
.file-grid__icon { width: 48px; height: 48px; object-fit: contain; margin-bottom: 5px; }
.file-grid__label { font-size: 12px; font-weight: bold; }

/* ============================================================
   VISIONNEUSE
   ============================================================ */
#win-preview { width: 800px; height: 600px; }
.preview-body {
    padding: 0; background-color: #222;
    display: flex; align-items: center; justify-content: center;
    overflow: hidden; height: 100%;
}
#preview-img { max-width: 100%; max-height: 100%; object-fit: contain; }

/* ============================================================
   BARRE DES TÂCHES
   ============================================================ */
.taskbar {
    position: fixed; bottom: 0; left: 0; width: 100%; height: 42px;
    background-color: var(--taskbar-bg); border-top: 3px solid var(--win-border);
    display: flex; align-items: center; padding: 4px; z-index: 99999;
}

.taskbar__start-btn {
    height: 100%; padding: 0 15px; font-weight: bold; font-size: 14px;
    display: flex; align-items: center; justify-content: center;
    background: var(--taskbar-btn); color: var(--text-light);
    border: 2px solid var(--win-border); margin-right: 10px;
}
.taskbar__start-btn:active, .taskbar__start-btn.active {
    background: var(--win-border); color: white;
}

.taskbar__tray {
    margin-left: auto; background: var(--win-header-end);
    border: 2px solid var(--win-border); color: var(--text-light);
    padding: 0 15px; height: 100%; display: flex; align-items: center;
    justify-content: center; min-width: 70px;
}

/* ============================================================
   MENU DÉMARRER
   ============================================================ */
.start-menu {
    position: absolute; bottom: 42px; left: 0; width: 250px;
    background-color: var(--win-bg); border: 3px solid var(--win-border);
    box-shadow: var(--shadow-hard); z-index: 9999; display: none;
}
.start-menu.visible { display: flex; }

.start-menu__sidebar {
    width: 40px; background: var(--win-header-end);
    border-right: 3px solid var(--win-border); display: flex;
    align-items: flex-end; justify-content: center; padding-bottom: 10px;
}
.start-menu__name {
    writing-mode: vertical-rl; transform: rotate(180deg);
    color: var(--text-light); font-weight: bold; font-size: 16px;
    letter-spacing: 2px; margin-top: 20px; margin-bottom: 20px;
}
.start-menu__content { flex: 1; padding: 5px; }
.start-menu__item { padding: 10px; color: var(--text-primary); font-weight: bold; }
.start-menu__item:hover { background-color: var(--win-header-start); color: white; }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media screen and (max-width: 768px) {
    .taskbar, .start-menu { display: none !important; }
    .desktop { display: grid; grid-template-columns: repeat(4, 1fr); padding: 50px 10px; }
    .desktop__shortcut { position: relative !important; top: auto !important; left: auto !important; width: 100%; margin: 0; }
    .window { width: 100% !important; height: 100% !important; top: 0 !important; left: 0 !important; transform: none !important; }
    #win-preview { width: 100% !important; height: 100% !important; }
}